## Демонстрация

### Упрощенная архитектура взаимодействия 

![Архитектура взаимодействия](image/img1.png)

На рисунке фиолетовым цветом отображаются стороние приложение, с которыми взаимодействует разработанное ПО. 

Синим цветом отображены сервисы реализованные мной.

### Минимально описание функционала Aspia Api GW
Программное обеспечение [Aspia](https://aspia.org/) в первую очередь предназначенно для удаленного управления клиентскими ПК. 

У приложения отсутствует какой либо API интерфейс для взаимодействия с управляемыми компьютерами. 

**Aspia API GW** - позволяет через HTTP-запросы получать актуальную информацию о конфигурациях ПК и состоянии хостов.

Ссылка на исходники Aspia API GW - [тут](https://github.com/StupidFraid/aspia-api-host-info). *Называется ПО немного по другому, но меня очень просили опубликовать в профильном чате, а какого то разумного названия на тот момент не придумал*

### Минимально описание функционала СМУК ПК

СМУК ПК — веб-система мониторинга парка компьютеров с использование программного комплекса [Aspia](https://aspia.org/). 

  Что делает:
  - Подключается к Aspia API GW и автоматически (каждые 5 мин) собирает данные со всех Windows-ПК подключенных к вашему Aspia Router
  - Хранит конфигурацию каждого ПК: процессор, память, диски(только общий объем дисков, к сожелению так реализована ПО которое использую), видеокарта, мат. плата, сетевые адаптеры, установленное ПО
  - Отслеживает изменения — если на ПК поменялся процессор, добавилась/удалилась программа, изменился объём RAM — система это фиксирует и уведомляет в Telegram
  - Позволяет исключить "шумное" ПО (обновления, антивирусные базы) из отслеживания — глобально или для конкретного ПК

  Основные разделы:
  - Главная — сводка: сколько ПК онлайн/оффлайн, ошибки синхронизации, неподтверждённые изменения
  - Устройства — список всех ПК с фильтрами, детальная карточка каждого (оборудование, ПО, сеть, история изменений)
  - Реестр — сводная таблица оборудования и ПО по всем ПК, экспорт в Excel/PDF
  - События — журнал всех зафиксированных изменений с фильтрацией по дате и типу
  - Администрирование — управление пользователями, группами ПК, настройки отслеживания по группам

  Дополнительно:
  - Группировка ПК с настройкой отслеживаемых компонентов на уровне группы
  - Индивидуальные учётные данные для хостов, требующих авторизацию
  - Параллельная синхронизация (5 потоков по умолчанию)
  - Telegram-уведомления при обнаружении изменений и их подтверждении
  - Ролевая модель: ADMIN (полный доступ) и USER (только просмотр)

### Демонстрация пользовательского интерфейса

#### Страница авторизации

![Страница авторизации](image/smuk/auth.png)

### Главная страница 
![Главная страница](image/smuk/index.png)
- Карточки устройств ведут на страницу "Устройства", с фильтром по соотвествующему типу из заголовка карточки.
- На странице выводятся информация о изменения конфигурации наблюдаемых ПК. Пользоваттель с ролью Admin может подтвердить данные изменения.
- Синхронизация информации происходит каждые 5 минут (параметр настраивается в application.properties). Логика работы скрапнига конфигурации проста. В первую очередь запрос выгружает список все покдлюченных к Aspia Server хостов, если хост ранее не наблюдался, запускается полный скрапинг через отдельный endpoint. Если хост уже был записан в БД, проверяется переменая в json **session_id**. Если она изменилсь, ставится метка в БД о необходимости запуска полного скрапинга конфигурации.
![Пример вывода ответа от Aspia API GW на endpoint /hosts](image/aspi-api-gw/all-host-json.png)

### Вкладка Устройства
![Устройства](image/smuk/hosts.png)
- На странице так же присутствуют карточки для быстрых перехода по фильтрам
- Присутствует поле для поиска по информации
- Выводится информация о всех наблюдаемых ПК, с возможностью принудительно синхронизировать конфигурацию определенного устройства. По клику на устройство мы провалимся на страницу определенного устройства.

### Карточка определенного устройства
На странице имеется 5 вкладок:
---
1) Обзор - выводится сводная информация о ПК. 
![Карточка ПК](image/smuk/host-1.png)
2) Оборудование
![Оборудование ПК](image/smuk/host-2.png)
3) Программы
![Программы ПК](image/smuk/host-3.png)
4) Сеть
![Сеть ПК](image/smuk/host-4.png)
5) Изменения
![Изменения](image/smuk/host-5.png)
6) Действия
![Действия](image/smuk/host-action.png)

#### Демонстрация возможных действий
1) Установить "Псевдоним" для хоста
![Псевдоним](image/smuk/alias-host.png)
2) Прописать для выгрузки конфигурации индивидуальные данные для авторизации на хосте
![Авторизация на хосте](image/smuk/host-auth.png)
3) Выбрать какие параметры отслеживать на хосте
![Выбор отслеживаемых параметров на хосте](image/smuk/host-control-config.png)
4) Экспорт данных в Excel/Pdf. Для примера приведу карточку ПК, в PDF
![PDF Report](image/smuk/host-report-pdf.png)

### Страница Реестр
Данная страница выводит сводную информацию о всех ПК. (Материнская плата, Процессор, Объем RAM, Видеокарта), с возможностью поиска по любому компоненту. На вкладке "Программное обеспечение" Выводится сводная информация о всем ПО.
Так же, данную информацию можно выгрузить в PDF/Excel. 
![Сводная информация о оборудовании](./image/smuk/reestr-hosts.png)
![Сводная информация о ПО](./image/smuk/reestr-app-hosts.png)


### Страница События
Выводит все события с изменениями по Хостам. В настоящий момент много шума. Т.к. для демонстрации развернута локальная инсталяция и не отключено отслеживание ПО которое ежедневно обновляется.
![События](./image/smuk/events.png)

### Страница Администрирование
Страница видна только пользователю с группой Администратор. На ней можно создавать Пользователей и группы для устройств. 
![Администрирование](./image/smuk/admin.png)

### Страница Профиль
Страница позволяет изменить пароль пользователю.
![Профиль](./image/smuk/profile.png)


### Пример оповещения в TG:
![Оповещение в TG](./image/smuk/telegram-report.png)


Исходный код доступен ![тут](./smuk_pc/)